# Module Management

Add, update, remove, and list installed modules (skills, MCP servers, plugins).

## From Within Claude

Use `/claude-code-setup` to manage modules interactively during a session.

## From Terminal

```bash
./install.sh [options]
```

## Options

### --yes, -y

Non-interactive mode. Accepts defaults for all prompts.

```bash
./install.sh --yes
```

Useful for:
- CI/CD pipelines
- Automated setups
- Scripted installations

### --add

Install additional modules interactively.

```bash
./install.sh --add
```

Shows module selector for:
- MCP servers not yet installed
- Skills not yet installed
- External plugins (via Claude CLI)

### --update

Update all installed modules to latest versions.

```bash
./install.sh --update
```

Equivalent to running `/claude-code-setup` from within Claude.

### --remove

Remove installed modules interactively.

```bash
./install.sh --remove
```

Shows a toggle selector for all installed modules:
- MCP servers
- Skills
- External plugins

Select modules to remove, then confirm. Removal:
- Removes MCP entries from `~/.claude.json`
- Deletes skill directories from `~/.claude/skills/`
- Runs `claude plugin remove` for external plugins
- Updates `installed.json` tracking

### --list

Show what's currently installed.

```bash
./install.sh --list
```

Output:
```
Installed modules:
  MCP Servers:
    - pdf-reader
    - brave-search
  Skills:
    - standards-python
    - standards-shell
  External Plugins:
    - document-skills@anthropic-agent-skills
  Commands:
    - catchup
    - wrapup
    - init-project
```

### --help, -h

Show help message.

```bash
./install.sh --help
```

## Environment Variables

### HOME

Installation target directory.

```bash
HOME=/tmp/test ./install.sh
```

Useful for testing without affecting your real `~/.claude`.

## One-Liner Installation

Interactive:
```bash
bash <(curl -fsSL https://raw.githubusercontent.com/b33eep/claude-code-setup/main/quick-install.sh)
```

Non-interactive (auto-detected when piped):
```bash
curl -fsSL https://raw.githubusercontent.com/b33eep/claude-code-setup/main/quick-install.sh | bash
```

## Updating

After initial install, update from within Claude:

```
/claude-code-setup
```

This preserves your User Instructions section.

## Reducing Permission Prompts

When running `/claude-code-setup`, Claude Code's sandbox prompts for permission on each command (`git clone`, `curl`, `jq`, etc.).

### Recommended: Run from Terminal

Run updates from terminal instead of within Claude - no permission prompts:

```bash
./install.sh --update
```

This is the simplest solution and works reliably.

### Alternative: Allow Rules (Limited)

import { Callout } from 'nextra/components'

You can add permission rules to `~/.claude/settings.json`, but due to a [known limitation](https://github.com/anthropics/claude-code/issues/5503) in Claude Code, rules only work for simple commands:

```json
{
  "permissions": {
    "allow": [
      "Bash(curl -fsSL:*)",
      "Bash(jq -r:*)",
      "Bash(rm -rf /tmp/claude-setup-:*)",
      "Read(~/.claude/**)"
    ]
  }
}
```

<Callout type="warning">
**Limitation:** Rules with special characters (`$`, `[[`, `=`) at the command start don't work reliably. Commands like `temp_dir=$(...)` or `if [[ ...` will still prompt for permission.
</Callout>

For a prompt-free experience, use `./install.sh --update` from terminal instead.
